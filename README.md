# Karatsuba法による多項式乗算プログラム

## 概要

このプログラムは、Karatsuba法を使って、大きな整数や多項式の掛け算を効率よく計算するC++プログラムです。
Karatsuba法は、従来の掛け算アルゴリズムに比べて計算が速く、大規模な数値計算や暗号処理などの分野で特に有効です。

## インストールと実行
### 必要条件

* g++ (GCC) などのC++コンパイラ
* make ユーティリティ

## ビルド手順

1. リポジトリをクローンします。
```sh
git clone https://github.com/XXXFQ/karatsuba.git
cd karatsuba
```

2. `build.bat`を実行してプログラムをビルドします。
```sh
./build.bat
```

3. 実行ファイルがルートディレクトリに生成されます。

## 実行方法
プログラムは、以下の2つの方法で実行できます。

1. コマンドライン引数からの実行
コマンドライン引数として2つの数値を指定して実行します。
```sh
./Karatsuba.exe <value1> <value2>
```

例:
```sh
./Karatsuba.exe 12345678901234567890 98765432109876543210
```

2. 対話形式での実行
引数を指定せずに実行すると、対話形式で数値の入力を求められます。
```sh
./Karatsuba.exe
Enter value 1: 12345678901234567890
Enter value 2: 98765432109876543210
```

## 出力
他のプログラムからも利用しやすいように、計算結果のみが標準出力に表示されます。エラーが発生した場合は、標準エラー出力にメッセージが表示されます。

## Karatsuba法の仕組み

### 基本的な考え方

Karatsuba法は、多項式の乗算を効率的に行うための分割征服アルゴリズムです。具体的には、2つのn桁の数の乗算を3つの小さな乗算といくつかの加算とシフトに分解します。

### ステップ

1. **入力を分割**：     
   2つのn桁の数 $x$ と $y$ をそれぞれ中間点で2つの部分に分割します。    
   $$\ x = x_1 \cdot 10^{n/2} + x_0 \$$  
   $$\ y = y_1 \cdot 10^{n/2} + y_0 \$$  

2. **再帰的な乗算**：   
   3つの部分乗算を計算します。  
   $$\ z_0 = x_0 \cdot y_0 \$$  
   $$\ z_2 = x_1 \cdot y_1 \$$  
   $$\ z_1 = (x_1 + x_0) \cdot (y_1 + y_0) - z_2 - z_0 \$$

3. **結果の統合**：  
   3つの部分乗算の結果を組み合わせて、最終結果を得ます。
   $$\ x \cdot y = z_2 \cdot 10^n + z_1 \cdot 10^{n/2} + z_0 \$$

### 例

例えば、1234と5678の乗算を考えます。Karatsuba法では次のように計算します：

1. 入力を分割：  
   $$\ 1234 = 12 \cdot 10^2 + 34 \$$  
   $$\ 5678 = 56 \cdot 10^2 + 78 \$$  

2. 3つの部分乗算：  
   $$\ z_0 = 34 \cdot 78 \$$  
   $$\ z_2 = 12 \cdot 56 \$$  
   $$\ z_1 = (12 + 34) \cdot (56 + 78) - z_2 - z_0 \$$

3. 結果の統合：  
   $$\ 1234 \cdot 5678 = z_2 \cdot 10^4 + z_1 \cdot 10^2 + z_0 \$$

### 時間計算量

Karatsuba法の時間計算量は $O(n^{\log_2 3}) \approx O(n^{1.585})$ であり、従来の乗算アルゴリズムの $ O(n^2) $ よりも高速です。

## 参考文献

- [Wikipedia - Karatsuba法](https://ja.wikipedia.org/wiki/%E3%82%AB%E3%83%A9%E3%83%84%E3%83%90%E6%B3%95)

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。

## 著作権表示

Copyright (C) 2023-2024 ARM